# ูุซููุฉ ุงูุชุตููู ุงููุนูุงุฑู (Design Document)

## ๐ ูุธุฑุฉ ุนุงูุฉ (Overview)

ุฅุนุงุฏุฉ ููููุฉ ุดุงุดุฉ `CompactRegistryEntryScreen` ูู ููุงุชุฑ (Flutter) ูุชุณุชูุนุจ 3 ููููุงุช ุฑุฆูุณูุฉ ูุณุชุญุฏุซุฉ. ุณูุชู ุชูุณูู `PartiesSection`ุ `GuardianSection`ุ ู `DocumentationSection` ุจุทุฑููุฉ ุชุชูุงุดู ูุน ุงูุชุตููู ุงูุฌุฏูุฏุ ูุงุณุชุญุฏุงุซ ุฃูุณุงู ููุจูุงูุงุช ุงููุงููุฉ ูุงูุชูุจููุงุช.

## ๐ ุงูุชุนุฏููุงุช ุงูููุชุฑุญุฉ (Proposed Changes)

### 1. ุทุจูุฉ ููุงุนุฏ ุงูุจูุงูุงุช ูุงูููุงุฐุฌ (Database & Models)

- **ูุง ุชุนุฏููุงุช ุฌุฐุฑูุฉ ูุทููุจุฉ** ุนูู ุงูููุงุฐุฌ ุงูุฃุณุงุณูุฉ ูุงุฑุชุจุงุทูุง ุงูุณุงุจูุ ููู ุณูุชู ูุฑุงุฌุนุฉ `AddRegistryEntryState` ูู ูุฒูุฏ ุงูุญุงูุฉ ููู Provider ููุชุญูู ูู ูุฌูุฏ ุงูุญููู ุงููุงููุฉ ุงูุฌุฏูุฏุฉ (ูุซู ุงูุถุฑูุจุฉ ูุงูุฒูุงุฉ ูุงูุฅุนูุงุก ุฅุฐุง ูู ุชูู ูุฏุนููุฉ ุจุดูู ูุงูู).

### 2. ููุทู ุงูุฃุนูุงู ููุฒูุฏู ุงูุฎุฏูุฉ (Business Logic / Providers)

- **ูููุงุช ุญุงููุฉ ููุชุนุฏูู:**
  - `lib/features/registry/presentation/providers/add_registry_entry_provider.dart`:
    - ุฅุถุงูุฉ ููุทู ูุญุณุงุจ ูุฌุงููุน ูุชูุฒูุน ุงูุฑุณูู ุฏุงุฎููุงู ุฅุฐุง ูุฒู ุงูุฃูุฑ ููุนุฑุถ (ุฃู ุงูุงุนุชูุงุฏ ุนูู ุงูุญุณุงุจ ุงูููุฌูุฏ).
    - ุฅุถุงูุฉ ุฏุนู ูุญููู ุงูุถุฑูุจุฉ ูุงูุฒูุงุฉ ูุงูุจุญุซ ุนููุง ูู ุฏูุงู `update*`.

### 3. ูุงุฌูุฉ ุงููุณุชุฎุฏู (UI / Frontend)

- **ููููุงุช ุณูุชู ุชุนุฏูููุง ุฃู ุฅุนุงุฏุฉ ูุชุงุจุชูุง:**
  - `lib/features/registry/presentation/screens/compact_registry_entry_screen.dart`:
    - ุฅุนุงุฏุฉ ุชุฑุชูุจ ุงูู `ListView` ููุญุชูู ุนูู ุงูู 3 ุฃูุณุงู.
  - `lib/features/registry/presentation/widgets/parties_section.dart`:
    - ุฅุถุงูุฉ ุญููู ุงูุชูุงุฑูุฎ ุงููุฏูุฌุฉ ูุน ุจูุงูุงุช ุงููุงุชุจ.
  - `lib/features/registry/presentation/widgets/guardian_section.dart`:
    - ุชุญุฏูุซ `itemLabelBuilder` ูููุงุฆูุฉ ุงูููุณุฏูุฉ ูุชุนูุณ ุงูุตูุบุฉ ุงูุฌุฏูุฏุฉ (`ููุน ุงูุณุฌู + ุฑููู + ุงูุณูุฉ + ุงุณู ุงูุฃููู`).
  - `lib/features/registry/presentation/widgets/documentation_section.dart`:
    - ุชูุณูู ูุฐุง ุงููููู ุฅูู: ุจูุงูุงุช ุณุฌู ุงููุญููุฉุ ุงูุจูุงูุงุช ุงููุงููุฉ (ุงูุถุฑูุจุฉ ูุงูุฒูุงุฉ)ุ ูุฑุณูู ุงูุชูุซูู.
    - ุฅุถุงูุฉ ุงูููููุงุช ุงููุงุจูุฉ ููุทู (Collapsible) ืืขุฑุถ ููุฎุตุงุช ืืจุณูู ุงูุชูุตูููุฉ.
- **ููููุงุช ุฌุฏูุฏุฉ:**
  - ุฅุถุงูุฉ ุจุทุงูุฉ ุชูุจูู (Banner/Alert Widget) ุชุธูุฑ ูุจู ูุณู ุงูุฃุทุฑุงู ุชูุงุดูุงู ูุน ูุชุทูุจุงุช ุงูุชุตููู.

## ๐ ูุณุงุฑ ุงูุจูุงูุงุช (Data Flow)

- ุนูุฏูุง ูููู ุงููุณุชุฎุฏู ุจุงุฎุชูุงุฑ ุงูุณุฌูุงุช ูุงููุจุงูุบ ุงููุงููุฉ ุถูู `DocumentationSection`ุ ูุชู ุจุซ ุงูุญุงูุฉ ุฅูู `AddRegistryEntryProvider`.
- ูุฌุจ ุฃู ูููู ุฒุฑ (ุงูุฅุนูุงุก) Toggle Button ูุงุฏุฑุงู ุนูู ุชุตููุฑ ุงูููู ูุญููุงู (UI) ูุชุซุจูุชูุง ูู ุงูู Provider ูุญุธูุงู ูุนุฑุถ ุงูุฅุฌูุงูู 0.
