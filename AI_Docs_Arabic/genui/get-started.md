---
title: البدء مع حزمة GenUI SDK (شرح الملف)
shortTitle: البدء مع حزمة GenUI SDK
breadcrumb: البدء
description: >
  تعلم كيفية استخدام حزمة GenUI SDK في Flutter وإضافتها لتطبيقك القائم.
---

يقوم الملف بشرح خطوات إعداد بيئة البدء لحزمة `genui` للفلتر وتطبيقاتها الأساسية، مع أمثلة كود خطوة بخطوة.

## إعداد مزود الوكيل الذكي (Configure your agent provider)

تستطيع الحزمة الارتباط بمزودين مختلفين (Providers) حسب بيئة وبيانات التطبيق:

1. **Google Gemini AI عبر (`genui_google_generative_ai`):** الأمثل للاختبارات السريعة، ويتطلب مفتاح وصول `GEMINI_API_KEY` مباشرة.
2. **Firebase AI Logic عبر (`genui_firebase_ai`):** الأمثل للاستخدام المباشر بالإنتاج وبدون سيرفر خاص (يحافظ على أمان الـ API).
3. **GenUI A2UI عبر (`genui_a2ui`):** الأمثل لمعماريات الخادم والعميل (Client/Server architectures).
4. **تخصيص الخاص بك:** يمكنك بناء المحوّل (Adapter) الخاص بك من فئة `ContentGenerator`.

## بناء الاتصال (Create the connection)

يتم الربط بإنشاء 3 مكونات أساسية كالتالي داخل `State`:

1. تهيئة `A2uiMessageProcessor` مع الفهارس (`Catalogs`) المطلوبة.
2. تهيئة `ContentGenerator` وتزويده بإرشادات النظام (System instructions) والأدوات الأساسية التي أضيفت للفهرس.
3. التمرير المشترك كلاهما إلى `GenUiConversation`.

## التفاعل مع الوكيل والمخرجات

بناء التفاعل يعتمد على تمرير إرسالات المستخدم عبر `sendRequest`. وعرض ناتج واجهة المستخدم بناءً على المراقبة عبر الدوال المرجعية (`onSurfaceAdded` و `onSurfaceDeleted`) لربط كل مساحة (Surface) بوقت ظهورها.

## إضافة مكونات UI مفصلة (Custom widgets)

إذا أردت جعل الذكاء الاصطناعي يستخدم أي Widget بنيته، فاتبع هذه الخطوات:

1. أضف حزمة `json_schema_builder` لمشروعك.
2. اكتب مخطط JSON لتوضيح خصائص البيانات للـ Widget (ما المدخلات والمعلومات التي يقبلها).
3. قم بإنشاء فئة فرعية `CatalogItem` بداخلها اسم المكون ومخطط JSON ودالة البناء (`widgetBuilder`) لعرض محتواه البصري.
4. قم بإرفاق هذا العنصر لـ `A2uiMessageProcessor` وتحديث "تعليمات النظام" (System instructions) لتشمل توضيحاً للنموذج متى يجب عليه استخدام واسم هذه الواجهة البصرية.

## الترابط مع نموذج البيانات (Data binding)

يقوم `DataModel` بربط متغيرات الذكاء الاصطناعي مع الواجهات وتحديثها بصرياً عبر إدخالات JSON ترتبط بها مسميات مسارات ديناميكيّة (Paths)، وما أن تتغّير هذه القيمة حتى يتم تحديث كل مكون متصل بها بشكل فوري.
