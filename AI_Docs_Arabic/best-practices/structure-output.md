---
title: الهيكلة والمخرجات (شرح الملف)
description: >
  تعرف على كيفية استخدام المخططات (Schemas) المهيكلة للمدخلات والمخرجات لتلقي بيانات JSON موثوقة وقابلة للتحليل من الـ LLM.
---

يهدف الملف للتركيز على أهمية استلام مخرجات واضحة المعالم وغير قابلة للتأويل من النماذج اللغوية لتتمكن التطبيقات من التعامل معها.

## المدخلات المهيكلة (Structured input)

يقبل الـ LLM تقديم المدخلات بأشكال متعددة (نصوص حرة، Markdown، وحتّى تصيغات مهيكلة كـ JSON أو CSV). فضلاً عن المدخلات النصية، يقبل وسائط ثنائية مثل الصور وملفات PDF. عند تمرير مدخلات مهيكلة بوضوح (سواء بيانات جداول أو صور محددة)، تحصل على استنتاجات ونتائج أكثر دقة من الذكاء الاصطناعي.

## المخرجات المهيكلة (Structured output)

غالباً ما يواجه النماذج اللغوية (LLM) صعوبة في الالتزام بهيكل مخرجات صارم أكثر من تعاملها مع المدخلات المهيكلة. لضمان حصول التطبيق على بيانات `JSON` موثوقة يمكن معالجتها دون أخطاء:

* يجب عليك تحديد المخطط (Schema) المتوقع باستخدام النوع `Schema`، وهو ما يخبر النظام بهيكل وحقول بيانات JSON (مثل استخدام الأعداد الصحيحة، النصوص، المصفوفات، الكائنات).
* حدد نوع المحتوى للمخرجات إلى `'application/json'` وقم بتمرير `responseSchema` المُعدّ مسبقاً لمُكوّن `GenerationConfig` عند ضبط نموذج الذكاء الاصطناعي العائد لـ Firebase AI Logic.
* لضمان الدقة وتفادي أي ارتباك، يُعتبر إرشاد النموذج بإضافة مخطط JSON كنص داخل تعليمات النظام (System instruction) خطوة احترافية تضمن الموثوقية. بمجرد الحصول على الاستجابة، سيكون من السهل استخدام `jsonDecode` في Dart على مخرجات الرد لمعالجة البيانات.
